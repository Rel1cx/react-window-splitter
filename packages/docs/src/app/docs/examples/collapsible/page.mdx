import { CodeBlock } from "mdxts/components";

import {
  ColorfulPanel,
  ColorfulPanelGroup,
  ColorfulPanelResizer,
} from "../../../../Components/ColorfulPanels";

# Collapsible

You can mark a panel as collapsible by using the `collapsible` prop.
By default the panel will collapse to `0px` when collapsed.
You can control this by using the `collapsedSize` prop.

<ColorfulPanelGroup className='my-6' style={{ height: 200 }}>
  <ColorfulPanel
    id="1"
    color="green"
    collapsible={true}
    collapsedSize="100px"
    min="150px"
    max="400px"
    className="[&[data-collapsed='true']]:bg-purple-ui [&[data-collapsed='true']]:border-purple-9 dark:[&[data-collapsed='true']]:border-purpledark-9"
  />
  <ColorfulPanelResizer id="2" />
  <ColorfulPanel color="red" min="130px" id="3" />
</ColorfulPanelGroup>

```tsx
import { PanelGroup, Panel, PanelResizer } from "react-window-splitter";

function CollapsibleExample() {
  return (
    <PanelGroup>
      <Panel collapsible collapsedSize="100px" min="150px" max="400px" />
      <PanelResizer />
      <Panel min="130px" />
    </PanelGroup>
  );
}
```

## Default Collapsed

If you want the panel to start collapsed by default you can use the `defaultCollapsed` prop.

<ColorfulPanelGroup style={{ height: 200 }}>
  <ColorfulPanel
    id="1"
    color="green"
    collapsible={true}
    defaultCollapsed={true}
    collapsedSize="100px"
    min="130px"
    max="400px"
    className="[&[data-collapsed='true']]:bg-purple-ui [&[data-collapsed='true']]:border-purple-9 dark:[&[data-collapsed='true']]:border-purpledark-9"
  />
  <ColorfulPanelResizer id="2" />
  <ColorfulPanel color="red" min="130px" id="3" />
</ColorfulPanelGroup>

## Controlled

If you want to control the collapsed state of the panel you can
use the [imperative API](/docs/api/panel-group#imperative-api) or you can
have full control over the collapsed state by using the `collapsed`
and `onCollapseChange` props.

```tsx
import { useState } from "react";
import { PanelGroup, Panel, PanelResizer } from "react-window-splitter";

function CollapsibleExample() {
  const [collapsed, setCollapsed] = useState(true);

  const onCollapseChange = (isCollapsed: boolean) => {
    // Do whatever logic you want here.
    // If you don't change the collapsed state, the panel
    // will not collapse.
    const shouldSetValue = true;

    if (shouldSetValue) {
      setCollapsed(isCollapsed);
    }
  };

  return (
    <PanelGroup>
      <Panel
        min="150px"
        max="400px"
        collapsible
        collapsedSize="100px"
        collapsed={collapsed}
        onCollapseChange={onCollapseChange}
      />
      <PanelResizer />
      <Panel min="130px" />
    </PanelGroup>
  );
}
```
